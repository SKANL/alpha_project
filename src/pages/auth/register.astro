---
import Layout from "@/layouts/Layout.astro";
import Button from "@/components/ui/Button.astro";
import Input from "@/components/ui/Input.astro";

const { user } = Astro.locals;

if (user) {
  return Astro.redirect("/dashboard");
}
---

<Layout title="Register">
  <div class="min-h-screen flex items-center justify-center px-4 py-8">
    <div class="w-full max-w-sm animate-fade-in-up">
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-3xl font-light tracking-zen text-content-primary mb-1">
          始める
        </h1>
        <p
          class="text-xs font-light tracking-widest uppercase text-content-secondary"
        >
          create account
        </p>
      </div>

      <!-- Divider -->
      <div class="h-px bg-border-weak w-full mb-8"></div>

      <!-- Form -->
      <form
        action="/api/auth/register"
        method="post"
        class="flex flex-col gap-6"
      >
        <Input
          label="Email"
          type="email"
          name="email"
          id="email"
          placeholder="name@example.com"
          required
        />

        <Input
          label="Password"
          type="password"
          name="password"
          id="password"
          placeholder="••••••"
          required
        />

        <Button type="submit" variant="primary" block class="mt-2">
          REGISTER
        </Button>
      </form>

      <!-- Divider -->
      <div class="h-px bg-border-weak w-full my-8"></div>

      <!-- Footer -->
      <div class="text-center">
        <span class="text-xs font-light text-content-muted mr-2"
          >Already have an account?</span
        >
        <a
          href="/auth/signin"
          class="text-xs font-light tracking-widest text-content-secondary hover:text-brand transition-colors duration-300 uppercase"
        >
          sign in
        </a>
      </div>
    </div>
  </div>
</Layout>
