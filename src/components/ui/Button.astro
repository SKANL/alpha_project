---
interface Props extends astroHTML.JSX.ButtonHTMLAttributes {
    variant?: "primary" | "secondary" | "ghost" | "danger";
    size?: "sm" | "md" | "lg";
    block?: boolean;
    href?: string; // If provided, renders as <a>
    target?: string;
    rel?: string;
}

const {
    variant = "primary",
    size = "md",
    block = false,
    href,
    class: className,
    ...rest
} = Astro.props;

const baseStyles =
    "inline-flex items-center justify-center rounded-sm transition-all duration-500 font-medium tracking-wide focus:outline-none focus:ring-2 focus:ring-brand-light disabled:opacity-50 disabled:cursor-not-allowed";

const variants = {
    primary:
        "bg-brand text-surface-base hover:bg-brand-hover shadow-sm hover:shadow-md",
    secondary:
        "bg-surface-card border border-border text-content-primary hover:bg-surface-highlight hover:border-border-strong",
    ghost: "bg-transparent text-content-secondary hover:text-content-primary hover:bg-surface-highlight",
    danger: "bg-transparent text-status-error border border-status-error/30 hover:bg-status-error/10",
};

const sizes = {
    sm: "text-xs px-4 py-2",
    md: "text-sm px-6 py-2.5",
    lg: "text-base px-8 py-3",
};

const classes = [
    baseStyles,
    variants[variant],
    sizes[size],
    block ? "w-full" : "",
    className,
].join(" ");

const Element = href ? "a" : "button";
---

<Element href={href} class={classes} {...rest}>
    <slot />
</Element>
